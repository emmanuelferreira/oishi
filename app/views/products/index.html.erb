
<nav class="navbar navbar-light">
  <%= form_tag products_path, method: :get, :class => 'form-inline' do %>
    <%= text_field_tag :query,
      params[:query],class: "form-control",placeholder: "Search..."%>
    <%= submit_tag "Search", class: "btn btn-primary" %>
  <% end %>
</nav>


<div class="container d-flex">
  <div class="d-flex flex-column">
    <div class="ml-4">
      <h3> <%= @suppliers.count %> Suppliers</h3>
      <br>
      <br>
      <% @suppliers.each do |supplier| %>
        <div class="form-check">
          <label class="form-check-label col-2">
            <input type="radio" class="form-check-input" name="optradio"><%= supplier.name %>
          </label>
        </div>
      <% end %>
    </div>
  </div>


  <div class="container-products">
    <% @products.each do |product| %>
      <div class="d-flex justify-content-end">
        <div class="card-product w-75">
           <%= image_tag product.image, class: "mh-100", style: "width: 200px; height: 300px;"  %>
          <div class="card-product-infos flex-grow-1">
            <div class="d-flex justify-content-between ">
              <h2><%= product.name.capitalize %></h2>
              <h2><%= product.price%><%= product.currency.upcase %></h2>
            </div>
            <h3><%= product.subcategory.name %></h3>
            <div class="d-flex justify-content-start badges">
              <% if product.eco_score == "A" || product.eco_score == "B"%>
                <i class="fas fa-globe-americas fa-2x" style="color: #004D00;"></i>
              <%elsif  product.eco_score == "C" || product.eco_score == "D"%>
                <i class="fas fa-globe-americas fa-2x" style="color: #f9d71c;"></i>
              <% else %>
                <i class="fas fa-globe-americas fa-2x" style="color: #A52A2A;"></i>
              <% end %>

              <% if product.nutri_score == "A" || product.nutri_score == "B"%>
                <i class="fas fa-heartbeat fa-2x pl-3" style="color: #004D00;"></i>
              <%elsif  product.nutri_score == "C" || product.nutri_score == "D"%>
                <i class="fas fa-heartbeat fa-2x pl-3" style="color: #f9d71c;"></i>
              <% else %>
                <i class="fas fa-heartbeat fa-2x pl-3" style="color: #A52A2A;"></i>
              <% end %>


              <!-- <i class="fas fa-money-bill-wave fa-2x pl-3"></i>  money icon removed as we have random prices, add again when we can compare with average price-->
            </div>
            <div class="d-flex justify-content-between">
              <p><%= product.description%></p>
              <p>TouchSpin missing</p>
              <i class="fas fa-plus-circle fa-2x"></i>
            </div>
          </div>
        </div>
      </div>
    <% end %>
  </div>
</div>
